query Projects(
  $pageSize: Int!
  $offset: Int!
  $workspaceSlug: String!
  $search: String
) {
  projects(
    orderBy: POSTS_COUNT_DESC
    first: $pageSize
    offset: $offset
    filter: {
      name: { includesInsensitive: $search }
      workspace: { slug: { equalTo: $workspaceSlug } }
    }
  ) {
    totalCount
    nodes {
      rowId
      name
      description
      slug
      workspace {
        rowId
        slug
      }
      posts {
        totalCount
        aggregates {
          distinctCount {
            userId
          }
        }
      }
    }
  }
}
