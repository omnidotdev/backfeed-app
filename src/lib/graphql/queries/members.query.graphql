query Members(
  $workspaceId: UUID!
  $roles: [Role!]
  $search: String
  $excludeRoles: [Role!]
) {
  members(
    orderBy: ROLE_ASC
    condition: { workspaceId: $workspaceId }
    filter: {
      role: { in: $roles, notIn: $excludeRoles }
      user: {
        or: [
          { name: { includesInsensitive: $search } }
          { username: { includesInsensitive: $search } }
        ]
      }
    }
  ) {
    totalCount
    nodes {
      ...Member
    }
  }
}
